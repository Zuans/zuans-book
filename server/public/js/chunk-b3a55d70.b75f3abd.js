(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3a55d70"],{"75bd":function(e,t,o){"use strict";var n=o("b18d"),r=o.n(n);r.a},"7db0":function(e,t,o){"use strict";var n=o("23e7"),r=o("b727").find,a=o("44d2"),i=o("ae40"),s="find",c=!0,u=i(s);s in[]&&Array(1)[s]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},a2ce:function(e,t,o){e.exports=o.p+"img/card-1.e7842bf2.jpg"},b0c0:function(e,t,o){var n=o("83ab"),r=o("9bf2").f,a=Function.prototype,i=a.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in a)&&r(a,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(e){return""}}})},b18d:function(e,t,o){},b9cf:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"book-detail"},[o("img",{staticClass:"img-overlay",attrs:{src:e.bookImg,alt:""}}),o("div",{staticClass:"book-detail-body"},[o("h3",[e._v(e._s(e.titleBook))]),o("hr"),o("div",{staticClass:"book-content"},[o("font-awesome",{staticClass:"icon",class:{pink:e.isLiked},attrs:{icon:"heart"},on:{click:function(t){return e.toggle("isLiked",e.book._id)}}}),e.book?o("div",[o("p",[e._v("Author : "+e._s(e.book.author?" "+e.book.author.name:null))]),o("p",[e._v("Genre : "+e._s(e.book.genre?" "+e.book.genre:null))]),o("p",[e._v("Release Date : "+e._s(e.setDate))]),o("p",[e._v("Added By: "+e._s(e.book.user_add?e.book.user_add:"Anonymous"))]),o("p",[e._v("Description :"+e._s(e.book.description?" "+e.book.description:" This book doens't have description "))])]):e._e()],1)])])},r=[],a=(o("99af"),o("7db0"),o("b0c0"),o("5530")),i=(o("96cf"),o("1da1")),s=o("5df0"),c=o("63fb"),u=o("94ea"),b={name:"bookDetail",data:function(){return{book:"",month:["January","February","March","April","May","June","July","August","September","October","November","Desember"],imgDefault:o("a2ce"),isLiked:!1,likedBook:[]}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var o,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.$route.params.bookId,t.prev=1,t.next=4,e.$apollo.query({query:s["QUERY_BOOK"],variables:{id:o}});case 4:n=t.sent,r=n.data.book,e.book=r,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:a=e.user.likedBook,e.setLiked(a);case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))()},methods:{toggle:function(e,t){var o=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o[e]=!o[e],n.prev=1,!o.isLiked){n.next=10;break}return console.log("tambah"),n.next=6,o.$apollo.mutate({mutation:c["LIKED_BOOK"],variables:{bookId:t}});case 6:return r=n.sent,n.abrupt("return",r);case 10:return console.log("hapus"),n.next=13,o.$apollo.mutate({mutation:c["UNLIKED_BOOK"],variables:{bookId:t}});case 13:return a=n.sent,o.$router.go(-1),n.abrupt("return",a);case 16:n.next=21;break;case 18:n.prev=18,n.t0=n["catch"](1),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[1,18]])})))()},setLiked:function(e){var t=this.$route.params.bookId,o=e.find((function(e){if(e)return e._id==t}));return this.isLiked=!!o}},watch:{},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(u["e"])(["user"])),Object(u["c"])(["getLikedBook"])),{},{bookImg:function(){if(this.book){var e=this.book.photo.filename;return e?"/img-card/".concat(e):this.imgDefault}return null},titleBook:function(){return this.book?this.book.name.toUpperCase():null},setDate:function(){if(this.book){var e=new Date(this.book.date),t=e.getDate(),o=e.getMonth(),n=e.getFullYear();return"".concat(t,"-").concat(this.month[o],"-").concat(n)}return null}})},l=b,d=(o("75bd"),o("2877")),k=Object(d["a"])(l,n,r,!1,null,"1e4ba6ff",null);t["default"]=k.exports}}]);
//# sourceMappingURL=chunk-b3a55d70.b75f3abd.js.map