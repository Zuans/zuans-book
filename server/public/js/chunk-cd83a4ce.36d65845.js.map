{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/feature/BookAdd.vue?9fb9","webpack:///src/components/feature/BookAdd.vue","webpack:///./src/components/feature/BookAdd.vue?9efb","webpack:///./src/components/feature/BookAdd.vue","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./src/components/feature/BookAdd.vue?9d35"],"names":["charAt","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","set","getInternalState","getterFor","String","iterated","this","type","string","index","point","state","length","value","undefined","done","bind","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","module","exports","arrayLike","result","step","iterator","next","O","C","Array","argumentsLength","arguments","mapfn","mapping","iteratorMethod","call","toInteger","requireObjectCoercible","createMethod","CONVERT_TO_STRING","$this","pos","first","second","S","position","size","charCodeAt","slice","codeAt","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","match","error","render","_vm","_h","$createElement","_c","_self","attrs","_v","loading","staticClass","on","$event","preventDefault","addBook","directives","name","rawName","form","expression","domProps","target","composing","$set","$$selectedVal","filter","options","o","selected","map","val","_value","multiple","_l","genre","key","_s","author","_id","ref","handleUpload","deleteImg","_e","success","staticRenderFns","data","authors","genres","description","author_id","photo","formError","inject","methods","img","src","URL","createObjectURL","$refs","file","files","onload","revokeObjectURL","validation","clearForm","computed","component","global","DOMIterables","ArrayIteratorMethods","createNonEnumerableProperty","wellKnownSymbol","ITERATOR","TO_STRING_TAG","ArrayValues","values","COLLECTION_NAME","Collection","CollectionPrototype","METHOD_NAME"],"mappings":"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","file":"js/chunk-cd83a4ce.36d65845.js","sourcesContent":["'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"add\"}},[_c('h1',[_vm._v(\"Add Book\")]),_c('hr'),(_vm.loading.value)?_c('h2',{staticClass:\"mt-5 display-4 text-center\"},[_vm._v(\"Please wait a seconds...\")]):_c('div',[_c('h3',[_vm._v(\"You can add your book here!\")]),_c('form',{staticClass:\"form-add\",attrs:{\"action\":\"\",\"enctype\":\"multipart/form-data\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.addBook($event)}}},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Book Title\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.name),expression:\"form.name\"}],attrs:{\"type\":\"text\",\"name\":\"\",\"id\":\"name\"},domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"genre\"}},[_vm._v(\"Genre\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.genre),expression:\"form.genre\"}],attrs:{\"name\":\"genre\",\"id\":\"genre\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"genre\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.genres),function(genre,index){return _c('option',{key:index,domProps:{\"value\":genre.name}},[_vm._v(_vm._s(genre.name)+\" \")])}),0),_c('label',{attrs:{\"for\":\"author\"}},[_vm._v(\"Author\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.author_id),expression:\"form.author_id\"}],attrs:{\"id\":\"author\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"author_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.authors),function(author,index){return _c('option',{key:index,attrs:{\"id\":\"author\"},domProps:{\"value\":author._id}},[_vm._v(_vm._s(author.name))])}),0),_c('label',{attrs:{\"for\":\"image\"}},[_vm._v(\"Book Image\")]),_c('input',{ref:\"file\",attrs:{\"type\":\"file\",\"id\":\"image\"},on:{\"change\":_vm.handleUpload}}),_c('img',{attrs:{\"id\":\"output-img\"}}),(_vm.form.photo)?_c('p',{staticClass:\"btn btn-danger w-25\",attrs:{\"id\":\"delete\"},on:{\"click\":_vm.deleteImg}},[_vm._v(\"Delete \")]):_vm._e(),_c('label',{attrs:{\"for\":\"genre\"}},[_vm._v(\"Description\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.description),expression:\"form.description\"}],attrs:{\"cols\":\"20\",\"rows\":\"3\"},domProps:{\"value\":(_vm.form.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"description\", $event.target.value)}}}),(_vm.success)?_c('h3',{staticClass:\"text-success\"},[_vm._v(_vm._s(_vm.success))]):_vm._e(),(_vm.error)?_c('h4',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('input',{staticClass:\"btn-submit\",attrs:{\"type\":\"submit\",\"value\":\"Submit\"}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"add\">\n    <h1>Add Book</h1>\n    <hr />\n    <h2 class=\"mt-5 display-4 text-center\" v-if=\"loading.value\">Please wait a seconds...</h2>\n    <div v-else>\n      <h3>You can add your book here!</h3>\n      <form \n        action \n        @submit.prevent=\"addBook\" \n        class=\"form-add\" \n        enctype=\"multipart/form-data\"\n      >\n        <label for=\"name\">Book Title</label>\n        <input type=\"text\" v-model=\"form.name\" name id=\"name\" />\n        <label for=\"genre\">Genre</label>\n        <select name=\"genre\" v-model=\"form.genre\" id=\"genre\">\n          <option \n            v-for=\"(genre,index) in genres\" \n            :key=\"index\" \n            :value=\"genre.name\"\n          >{{ genre.name }}\n          </option>\n        </select>\n        <label for=\"author\">Author</label>\n        <select id=\"author\" v-model=\"form.author_id\">\n          <option\n            v-for=\"(author,index) in authors\"\n            id=\"author\"\n            :key=\"index\"\n            :value=\"author._id\"\n          >{{ author.name }}</option>\n        </select>\n        <label for=\"image\">Book Image</label>\n        <input type=\"file\" ref=\"file\" @change=\"handleUpload\" id=\"image\" />\n        <img id=\"output-img\" />\n        <p \n          v-if=\"form.photo\" \n          class=\"btn btn-danger w-25\" \n          id=\"delete\" \n          @click=\"deleteImg\"\n        >Delete\n        </p>\n        <label for=\"genre\">Description</label>\n        <textarea \n          v-model=\"form.description\" \n          cols=\"20\" \n          rows=\"3\"\n        ></textarea>\n        <h3 class=\"text-success\" v-if=\"success\">{{ success }}</h3>\n        <h4 class=\"text-danger\" v-if=\"error\">{{ error }}</h4>\n        <input type=\"submit\" class=\"btn-submit\" value=\"Submit\" />\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { QUERY_AUTHORS, QUERY_GENRES } from \"@/graphql/query\";\nimport { ADD_BOOK } from \"@/graphql/mutations\";\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"bookAdd\",\n  data() {\n    return {\n      authors: [],\n      genres: [],\n      success: false,\n      error: false,\n      form: {\n        name: \"\",\n        genre: \"\",\n        description: \"\",\n        author_id: \"\",\n        photo: \"\",\n      },\n      formError: {\n        name: \"\",\n        genre: \"\",\n      },\n    };\n  },\n  inject : ['loading'],\n  async mounted() {\n    this.loading.value = true;\n    try {\n      // Query for authors data\n      const {\n        data: { authors },\n      } = await this.$apollo.query({\n        query: QUERY_AUTHORS,\n      });\n      this.authors = authors;\n      //  Query for genre data\n      const {\n        data: { genres },\n      } = await this.$apollo.query({\n        query: QUERY_GENRES,\n      });\n      this.genres = genres;\n      return setTimeout(() => {\n        this.loading.value = false;\n      }, 500);\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  methods: {\n    ...mapActions(['setImgDefault']),\n    async addBook() {\n      const { error } = this.validation();\n      if (error) return (this.error = error);\n      console.log('Add book function trigger');\n      try {\n        this.loading.value = true;\n        const book = await this.$apollo.mutate({\n          mutation: ADD_BOOK,\n          variables: { ...this.form, user_add: this.user.username },\n          hasUpload: true,\n        });\n        console.log(book);\n        this.error = false;\n        setTimeout(() => {\n          this.loading.value = false;\n          this.clearForm();\n          this.success = \"Your book successfully added\";\n        },1000)\n      } catch ({ message }) {\n        this.error = message;\n        this.success = false;\n        this.loading.value = false;\n      }\n    },\n    handleUpload() {\n      // Make review img\n      const img = document.getElementById(\"output-img\");\n      img.src = URL.createObjectURL(this.$refs.file.files[0]);\n      img.onload = () => {\n        URL.revokeObjectURL(img.src);\n      };\n      this.form.photo = this.$refs.file.files[0];\n    },\n    deleteImg() {\n      // Delete file from variable\n      this.form.photo = false;\n      // Delete url image\n      const img = document.getElementById(\"output-img\");\n      img.src = \"\";\n    },\n    validation() {\n      const name = this.form.name;\n      const genre = this.form.genre;\n      if (!name || name == \" \" ) {\n        return { error: \"Name required\" };\n      } else if (!genre || genre == \" \") {\n        return { error: \"Genre required\" };\n      } else {\n        return { success: true };\n      }\n    },\n    clearForm() {\n      this.form = {\n        name: \"\",\n        genre: \"\",\n        description: \"\",\n        author_id: \"\",\n        photo: \"\",\n      }\n    }\n  },\n  computed: {\n    ...mapState([\"user\"]),\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/assets/scss/_variables.scss\";\n@import \"~@/assets/scss/_mixins.scss\";\n\n#add {\n  padding: 3rem;\n  min-height: 120vh;\n  h1 {\n    font-size: $title-md;\n  }\n\n  hr {\n    border: $color-border-gray;\n  }\n\n  h3 {\n    text-align: left;\n    margin-top: 3rem;\n  }\n\n  .form-add {\n    display: flex;\n    flex-direction: column;\n    justify-content: left;\n    text-align: left;\n    margin-top: 3rem;\n\n    input,\n    textarea,\n    select {\n      width: 60%;\n      border-radius: 1rem;\n      border: none;\n      padding: 0.5rem 1rem;\n      margin-bottom: 1rem;\n      background-color : white;\n      @include respond(small) {\n        width: 100%;\n      }\n    }\n\n    label {\n      font-size: $title-sm;\n    }\n\n    input:focus,\n    textarea:focus,\n    select:focus {\n      outline: none;\n    }\n\n    #output-img {\n      max-width: 200px;\n      max-height: 200px;\n      margin-bottom: 2rem;\n    }\n\n    #delete {\n      cursor: pointer;\n    }\n\n    .btn-submit {\n      width: 40%;\n      background-color: $primary-color-md;\n      color: white;\n      margin-top: 2rem;\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookAdd.vue?vue&type=template&id=7a450380&scoped=true&\"\nimport script from \"./BookAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./BookAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookAdd.vue?vue&type=style&index=0&id=7a450380&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a450380\",\n  null\n  \n)\n\nexport default component.exports","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookAdd.vue?vue&type=style&index=0&id=7a450380&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookAdd.vue?vue&type=style&index=0&id=7a450380&lang=scss&scoped=true&\""],"sourceRoot":""}