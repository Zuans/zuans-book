(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5069c0df"],{"191c":function(t,e,r){},7424:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"admin-author"},[r("h1",[t._v("Author List")]),"success"==t.$route.params.status&&t.show?r("div",{staticClass:"success-alert",on:{click:t.toggleShow}},[r("h1",{staticClass:"text-success mt-3"},[t._v("Update Author Success")])]):t._e(),r("div",{staticClass:"author-list-wrapper"},[r("MyInput",{attrs:{label:"Author name",id:"search",bdrColor:"blue",size:"lg",value:t.keySearch},on:{onInput:function(e){return t.searchAuthor(e)}}}),0==t.authorList.length?r("div",{staticClass:"empty-data"},[r("h1",{staticClass:"mt-3 text-danger"},[t._v("No Author Found")])]):t._e(),0!==t.authorList.length?r("MyTable",{attrs:{headerBg:"black",headerTxt:"white"},scopedSlots:t._u([{key:"head",fn:function(){return[r("tr",[r("td",[t._v("Name")]),r("td",[t._v("Age")]),r("td",[t._v("Action")])])]},proxy:!0},{key:"data",fn:function(){return t._l(t.authorList,(function(e,n){return r("tr",{key:n},[r("td",[t._v(t._s(e.name))]),r("td",[t._v(t._s(e.age))]),r("td",{staticClass:"d-flex justify-content-between"},[r("button",{staticClass:"btn btn-primary",on:{click:function(r){return t.editAuthor(e._id)}}},[r("font-awesome",{attrs:{icon:["fas","edit"]}})],1),r("button",{staticClass:"btn btn-danger",on:{click:function(r){return t.deleteAuthor(e._id)}}},[r("font-awesome",{attrs:{icon:["fas","trash-alt"]}})],1)])])}))},proxy:!0}],null,!1,3571940039)}):t._e(),r("MyNavigateBtn",{attrs:{currentPage:t.currentPage,nextPage:t.nextPage,lastPage:0==t.authorList.length},on:{gotoPage:function(e){return t.gotoPage(e)}}}),r("button",{staticClass:"btn-add",on:{click:function(e){return t.$router.push({name:"admin-author-form",params:{action:"add",authorId:"null"}})}}},[t._v(" Add New Author ")])],1)])},a=[],u=(r("d3b7"),r("96cf"),r("1da1")),s=r("ed08"),c={name:"adminAuthorList",components:{MyTable:function(){return r.e("chunk-4628f2ec").then(r.bind(null,"387b"))},MyNavigateBtn:function(){return r.e("chunk-b6581a82").then(r.bind(null,"2c3d"))},MyInput:function(){return r.e("chunk-9ca0ed12").then(r.bind(null,"b480"))}},data:function(){return{authorList:[],currentPage:parseInt(this.$route.query.page)||1,limit:4,nextPage:!0,show:!0,keySearch:"",resultSearch:!0}},created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s["o"])(t.limit,t.currentPage);case 3:r=e.sent,n=r.authors,t.authorList=n,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},methods:{editAuthor:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.$router.push({name:"admin-author-form",params:{action:"update",authorId:t,page:e.currentPage,limit:e.limit}}),r.next=3,Object(s["o"])(e.limit,e.currentPage);case 3:n=r.sent,a=n.authors,e.authorList=a;case 6:case"end":return r.stop()}}),r)})))()},deleteAuthor:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(s["e"])(t,e.limit,e.currentPage);case 3:return r.next=5,Object(s["o"])(e.limit,e.currentPage);case 5:n=r.sent,a=n.authors,e.s,e.authorList=a,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](0),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,11]])})))()},searchAuthor:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.keySearch=t,r.next=4,Object(s["o"])(e.limit,e.currentPage,t);case 4:n=r.sent,0==n.authors.length&&(e.resultSearch=!1),e.resultSearch=!0,e.authorList=n.authors,r.next=15;break;case 10:r.prev=10,r.t0=r["catch"](0),e.resultSearch=!1,console.log(r.t0),e.authorList=[];case 15:case"end":return r.stop()}}),r,null,[[0,10]])})))()},gotoPage:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(s["o"])(e.limit,t,e.keySearch);case 3:if(n=r.sent,a=n.authors,u=n.pageInfo,console.log(a),e.authorList=a,e.nextPage=u.hasNextPage,0==a.length&&e.resetSearch(),e.currentPage!=t){r.next=12;break}return r.abrupt("return");case 12:e.currentPage=t,e.$router.push({name:"admin-author",query:{page:t}}),r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](0),console.log(r.t0);case 19:case"end":return r.stop()}}),r,null,[[0,16]])})))()},resetSearch:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s["o"])(4,1,"");case 3:r=e.sent,n=r.authors,a=r.pageInfo,t.authorList=n,t.nextPage=a.hasNextPage,t.keySearch="",t.currentPage=1,t.$router.push({name:"admin-author",query:{page:1}}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},toggleShow:function(){this.show=!this.show}}},o=c,i=(r("d20f"),r("2877")),h=Object(i["a"])(o,n,a,!1,null,"0215ba32",null);e["default"]=h.exports},d20f:function(t,e,r){"use strict";var n=r("191c"),a=r.n(n);a.a}}]);
//# sourceMappingURL=chunk-5069c0df.bc35bfff.js.map