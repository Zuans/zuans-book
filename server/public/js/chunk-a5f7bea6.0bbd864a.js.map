{"version":3,"sources":["webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./src/routes/admin/AdminBook.vue?78fb","webpack:///./node_modules/core-js/modules/es.string.search.js","webpack:///./src/routes/admin/AdminBook.vue?ccdd","webpack:///src/routes/admin/AdminBook.vue","webpack:///./src/routes/admin/AdminBook.vue?7126","webpack:///./src/routes/admin/AdminBook.vue"],"names":["module","exports","Object","is","x","y","fixRegExpWellKnownSymbolLogic","anObject","requireObjectCoercible","sameValue","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","this","searcher","undefined","call","RegExp","String","res","done","value","rx","S","previousLastIndex","lastIndex","result","index","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","on","$event","searchBook","genres","findByGenre","authors","findByAuthor","bookData","length","_e","status","msg","loaded","scopedSlots","_u","key","fn","proxy","_l","book","_s","name","author","user_add","genre","setDate","date","editBook","_id","deleteBook","currentPage","nextPage","getDataPage","deleteGenre","directives","rawName","expression","domProps","type","indexOf","_k","keyCode","addGenre","target","composing","inputGenre","staticRenderFns","console","log","data","page","component"],"mappings":"4HAEAA,EAAOC,QAAUC,OAAOC,IAAM,SAAYC,EAAGC,GAE3C,OAAOD,IAAMC,EAAU,IAAND,GAAW,EAAIA,IAAM,EAAIC,EAAID,GAAKA,GAAKC,GAAKA,I,kCCJ/D,yBAA2jB,EAAG,G,oCCC9jB,IAAIC,EAAgC,EAAQ,QACxCC,EAAW,EAAQ,QACnBC,EAAyB,EAAQ,QACjCC,EAAY,EAAQ,QACpBC,EAAa,EAAQ,QAGzBJ,EAA8B,SAAU,GAAG,SAAUK,EAAQC,EAAcC,GACzE,MAAO,CAGL,SAAgBC,GACd,IAAIC,EAAIP,EAAuBQ,MAC3BC,OAAqBC,GAAVJ,OAAsBI,EAAYJ,EAAOH,GACxD,YAAoBO,IAAbD,EAAyBA,EAASE,KAAKL,EAAQC,GAAK,IAAIK,OAAON,GAAQH,GAAQU,OAAON,KAI/F,SAAUD,GACR,IAAIQ,EAAMT,EAAgBD,EAAcE,EAAQE,MAChD,GAAIM,EAAIC,KAAM,OAAOD,EAAIE,MAEzB,IAAIC,EAAKlB,EAASO,GACdY,EAAIL,OAAOL,MAEXW,EAAoBF,EAAGG,UACtBnB,EAAUkB,EAAmB,KAAIF,EAAGG,UAAY,GACrD,IAAIC,EAASnB,EAAWe,EAAIC,GAE5B,OADKjB,EAAUgB,EAAGG,UAAWD,KAAoBF,EAAGG,UAAYD,GAC9C,OAAXE,GAAmB,EAAIA,EAAOC,Y,yCC9B3C,IAAIC,EAAS,WAAa,IAAIC,EAAIhB,KAASiB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACH,EAAIM,GAAG,eAAeH,EAAG,MAAM,CAACE,YAAY,cAAcF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,UAAU,CAACE,YAAY,OAAOE,MAAM,CAAC,GAAK,aAAa,MAAQ,OAAO,SAAW,OAAO,MAAQ,cAAc,KAAO,MAAMC,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOT,EAAIU,WAAWD,OAAYN,EAAG,YAAY,CAACI,MAAM,CAAC,GAAK,aAAa,KAAOP,EAAIW,OAAO,UAAY,gBAAgBH,GAAG,CAAC,cAAgB,SAASC,GAAQ,OAAOT,EAAIY,YAAYH,OAAYN,EAAG,YAAY,CAACI,MAAM,CAAC,GAAK,cAAc,KAAOP,EAAIa,QAAQ,UAAY,iBAAiBL,GAAG,CAAC,cAAgB,SAASC,GAAQ,OAAOT,EAAIc,aAAaL,QAAa,GAA2B,GAAvBT,EAAIe,SAASC,OAAeb,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,KAAK,CAACH,EAAIM,GAAG,uBAAuBN,EAAIiB,KAAMjB,EAAU,OAAEG,EAAG,MAAM,CAACE,YAAY,gBAAgBG,GAAG,CAAC,MAAQ,SAASC,GAAQT,EAAIkB,OAAO,QAAQ,CAACf,EAAG,UAAU,CAACI,MAAM,CAAC,OAASP,EAAIkB,OAAO,IAAMlB,EAAImB,QAAQ,GAAGnB,EAAIiB,KAAKd,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAAEL,EAAIoB,QAAUpB,EAAIe,SAASC,OAAS,EAAGb,EAAG,UAAU,CAACI,MAAM,CAAC,SAAW,UAAU,UAAY,SAASc,YAAYrB,EAAIsB,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAACrB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACH,EAAIM,GAAG,UAAUH,EAAG,KAAK,CAACH,EAAIM,GAAG,YAAYH,EAAG,KAAK,CAACH,EAAIM,GAAG,UAAUH,EAAG,KAAK,CAACH,EAAIM,GAAG,WAAWH,EAAG,KAAK,CAACH,EAAIM,GAAG,UAAUH,EAAG,KAAK,CAACH,EAAIM,GAAG,gBAAgBmB,OAAM,GAAM,CAACF,IAAI,OAAOC,GAAG,WAAW,OAAOxB,EAAI0B,GAAI1B,EAAY,UAAE,SAAS2B,EAAK7B,GAAO,OAAOK,EAAG,KAAK,CAACoB,IAAIzB,GAAO,CAACK,EAAG,KAAK,CAACH,EAAIM,GAAGN,EAAI4B,GAAGD,EAAKE,SAAS1B,EAAG,KAAK,CAACH,EAAIM,GAAGN,EAAI4B,GAAGD,EAAKG,OAASH,EAAKG,OAAOD,KAAO,cAAc1B,EAAG,KAAK,CAACH,EAAIM,GAAGN,EAAI4B,GAAGD,EAAKI,aAAa5B,EAAG,KAAK,CAACH,EAAIM,GAAGN,EAAI4B,GAAGD,EAAKK,UAAU7B,EAAG,KAAK,CAACH,EAAIM,GAAGN,EAAI4B,GAAG5B,EAAIiC,QAAQN,EAAKO,UAAU/B,EAAG,KAAK,CAACE,YAAY,kCAAkC,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkBG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAImC,SAASR,EAAKS,QAAQ,CAACjC,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,CAAC,MAAM,YAAY,GAAGJ,EAAG,SAAS,CAACE,YAAY,iBAAiBG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIqC,WAAWV,EAAKS,QAAQ,CAACjC,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,CAAC,MAAM,iBAAiB,WAAUkB,OAAM,IAAO,MAAK,EAAM,cAAczB,EAAIiB,KAAKd,EAAG,cAAc,CAACI,MAAM,CAAC,YAAcP,EAAIsC,YAAY,SAAWtC,EAAIuC,SAAS,SAAkC,GAAvBvC,EAAIe,SAASC,QAAaR,GAAG,CAAC,SAAW,SAASC,GAAQ,OAAOT,EAAIwC,YAAY/B,QAAa,GAAGN,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,UAAU,CAACI,MAAM,CAAC,SAAW,QAAQ,UAAY,SAASc,YAAYrB,EAAIsB,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAACrB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,eAAe,CAACL,EAAIM,GAAG,eAAemB,OAAM,GAAM,CAACF,IAAI,OAAOC,GAAG,WAAW,MAAO,CAACxB,EAAI0B,GAAI1B,EAAU,QAAE,SAASgC,EAAMlC,GAAO,OAAOK,EAAG,KAAK,CAACoB,IAAIzB,GAAO,CAACK,EAAG,KAAK,CAACA,EAAG,IAAI,CAACH,EAAIM,GAAGN,EAAI4B,GAAGI,EAAMH,SAAS1B,EAAG,eAAe,CAACE,YAAY,aAAaE,MAAM,CAAC,KAAO,CAAC,MAAM,cAAcC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIyC,YAAYT,EAAMI,UAAU,QAAOjC,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACuC,WAAW,CAAC,CAACb,KAAK,QAAQc,QAAQ,UAAUnD,MAAOQ,EAAc,WAAE4C,WAAW,eAAevC,YAAY,WAAWE,MAAM,CAAC,KAAO,OAAO,YAAc,YAAY,KAAO,WAAW,GAAK,YAAYsC,SAAS,CAAC,MAAS7C,EAAc,YAAGQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOqC,KAAKC,QAAQ,QAAQ/C,EAAIgD,GAAGvC,EAAOwC,QAAQ,QAAQ,GAAGxC,EAAOc,IAAI,SAAkB,KAAcvB,EAAIkD,SAASzC,IAAS,MAAQ,SAASA,GAAWA,EAAO0C,OAAOC,YAAqBpD,EAAIqD,WAAW5C,EAAO0C,OAAO3D,eAAciC,OAAM,QAAW,QACt6G6B,EAAkB,G,4EC0HtB,GACE,KAAF,WACE,WAAF,CACI,QAAJ,WAAM,OAAN,iDACI,QAAJ,WAAM,OAAN,iDACI,QAAJ,WAAM,OAAN,iDACI,UAAJ,WAAM,OAAN,iDACI,YAAJ,WAAM,OAAN,kDAEE,KATF,WAUI,MAAJ,CACM,QAAN,EACM,SAAN,GACM,OAAN,GACM,QAAN,GACM,QAAN,EACM,IAAN,GACM,WAAN,GACM,YAAN,oCACM,UAAN,EACM,MAAN,EACM,OAAN,CACQ,QAAR,EACQ,IAAR,GACQ,MAAR,GACQ,OAAR,MAIE,OAAF,YACE,QA9BF,WA8BI,IAAJ,OAAI,OAAJ,8JAEA,mBAFA,SAGA,+CAHA,uBAGA,EAHA,EAGA,MACA,aAJA,SAKA,iBALA,cAKA,SALA,iBAMA,iBANA,QAMA,UANA,OAOA,YACA,wDACA,gCACA,oBACgB,EAAhB,0BAEgB,EAAhB,gCAbA,qDAgBA,mBACA,kBAjBA,6DAoBE,QAAF,CACI,QAAJ,YAAM,OAAN,mBACI,SAFJ,SAEA,GACM,QAAN,uCACM,KAAN,cACQ,KAAR,kBACQ,OAAR,CACU,OAAV,EACU,KAAV,kBAEQ,MAAR,CACU,IAAV,gBACU,OAAV,mBACU,MAAV,sBAII,WAjBJ,SAiBA,GAAM,IAAN,OAAM,OAAN,qDAAQ,OAAR,sFAEgB,EAAhB,aACgB,EAAhB,aACA,uBAJA,iDAKgB,EAAhB,cACkB,KAAlB,aACkB,MAAlB,CACoB,KAApB,KARA,mDAYgBC,QAAQC,IAAI,EAA5B,IACgB,EAAhB,iBACgB,EAAhB,cAdA,4DAkBI,WAnCJ,WAmCM,IAAN,OAAM,OAAN,qDAAQ,IAAR,IAAQ,OAAR,0FACA,mCADA,gBACA,EADA,EACA,MACA,aAFA,8CAKI,YAxCJ,SAwCA,GAAM,IAAN,OAAM,OAAN,qDAAQ,OAAR,0FAEgB,EAAhB,eAFA,SAGA,eAHA,yDASgBD,QAAQC,IAAI,EAA5B,IATA,2DAaI,aArDJ,SAqDA,GAAM,IAAN,OAAM,OAAN,qDAAQ,OAAR,0FAEgB,EAAhB,gBAFA,SAKA,eALA,yDAOgBD,QAAQC,IAAI,EAA5B,IAPA,2DAWI,WAhEJ,SAgEA,GAAM,IAAN,OAAM,OAAN,qDAAQ,OAAR,mGAEA,wCAFA,cAGgB,EAAhB,iBACA,4BAJA,SAKA,gBALA,OAKgB,EAAhB,SALA,0DAOgB,EAAhB,UACgB,EAAhB,SARA,4DAWI,YA3EJ,SA2EA,GAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,iFACA,eADA,kBAGA,kBAHA,OAGgB,EAHhB,OAIgBD,QAAQC,IAAIC,GAJ5B,mDAMgBF,QAAQC,IAAI,EAA5B,IANA,4DASI,SApFJ,WAoFM,IAAN,OAAM,OAAN,qDAAQ,IAAR,IAAQ,OAAR,iFACA,eADA,kBAGA,kBAHA,cAGgB,EAHhB,OAIgB,EAAhB,cAJA,kBAKA,GALA,mCAOgBD,QAAQC,IAAI,EAA5B,IAPA,4DAUI,YA9FJ,SA8FA,GAAM,IAAN,OAAM,OAAN,qDAAQ,IAAR,MAAQ,OAAR,0FAEgB,EAAhB,cAFA,SAGA,6BAHA,mBAGgB,EAHhB,EAGA,MAAgB,EAHhB,EAGA,SACA,6BAJA,yCAIA,iBAJA,OAKgB,EAAhB,WACgB,EAAhB,uBACgB,EAAhB,cACA,kBACA,OACoB,KAApB,KAVA,qDAcgBD,QAAQC,IAAI,EAA5B,IAdA,6DAiBI,YA/GJ,WA+GM,IAAN,OAAM,OAAN,qDAAQ,IAAR,MAAQ,OAAR,0FACA,uBADA,gBACA,EADA,EACA,QADA,EACA,SACA,aACA,yBACA,gBACA,gBACA,kBACA,OACoBE,KAApB,KARA,8CAYI,WA3HJ,SA2HA,GAAM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,iFACA,qDADA,kBAEA,GAFA,gDCxSkW,I,wBCQ9VC,EAAY,eACd,EACA5D,EACAuD,GACA,EACA,KACA,WACA,MAIa,aAAAK,E","file":"js/chunk-a5f7bea6.0bbd864a.js","sourcesContent":["// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminBook.vue?vue&type=style&index=0&id=c5270164&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminBook.vue?vue&type=style&index=0&id=c5270164&lang=scss&scoped=true&\"","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-book\"},[_c('h1',[_vm._v(\"Book List\")]),_c('div',{staticClass:\"line-dark\"}),_c('div',{staticClass:\"filter-book\"},[_c('MyInput',{staticClass:\"mt-5\",attrs:{\"id\":\"searchBook\",\"align\":\"left\",\"bdrColor\":\"blue\",\"label\":\"Search Book\",\"size\":\"lg\"},on:{\"onInput\":function($event){return _vm.searchBook($event)}}}),_c('MyOptions',{attrs:{\"id\":\"genre-list\",\"data\":_vm.genres,\"defOption\":\"Select Genre\"},on:{\"optionsChange\":function($event){return _vm.findByGenre($event)}}}),_c('MyOptions',{attrs:{\"id\":\"author-list\",\"data\":_vm.authors,\"defOption\":\"Select Author\"},on:{\"optionsChange\":function($event){return _vm.findByAuthor($event)}}})],1),(_vm.bookData.length == 0  )?_c('div',{staticClass:\"empty-data\"},[_c('h2',[_vm._v(\"No result found\")])]):_vm._e(),(_vm.status)?_c('div',{staticClass:\"alert-wrapper\",on:{\"click\":function($event){_vm.status=null}}},[_c('MyAlert',{attrs:{\"status\":_vm.status,\"msg\":_vm.msg}})],1):_vm._e(),_c('div',{staticClass:\"table-wrapper\"},[_c('div',{staticClass:\"book-table\"},[(_vm.loaded && _vm.bookData.length > 0)?_c('MyTable',{attrs:{\"headerBg\":\"success\",\"headerTxt\":\"white\"},scopedSlots:_vm._u([{key:\"head\",fn:function(){return [_c('tr',[_c('td',[_vm._v(\"Name\")]),_c('td',[_vm._v(\"Author\")]),_c('td',[_vm._v(\"User\")]),_c('td',[_vm._v(\"Genre\")]),_c('td',[_vm._v(\"Date\")]),_c('td',[_vm._v(\"Action\")])])]},proxy:true},{key:\"data\",fn:function(){return _vm._l((_vm.bookData),function(book,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(book.name))]),_c('td',[_vm._v(_vm._s(book.author ? book.author.name : 'Unknown'))]),_c('td',[_vm._v(_vm._s(book.user_add))]),_c('td',[_vm._v(_vm._s(book.genre))]),_c('td',[_vm._v(_vm._s(_vm.setDate(book.date)))]),_c('td',{staticClass:\"d-flex justify-content-between\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.editBook(book._id)}}},[_c('font-awesome',{attrs:{\"icon\":['fas','edit']}})],1),_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.deleteBook(book._id)}}},[_c('font-awesome',{attrs:{\"icon\":['fas','trash-alt']}})],1)])])})},proxy:true}],null,false,3476716416)}):_vm._e(),_c('BtnPaginate',{attrs:{\"currentPage\":_vm.currentPage,\"nextPage\":_vm.nextPage,\"lastPage\":_vm.bookData.length == 0},on:{\"gotoPage\":function($event){return _vm.getDataPage($event)}}})],1),_c('div',{staticClass:\"table-genre\"},[_c('MyTable',{attrs:{\"headerBg\":\"black\",\"headerTxt\":\"white\"},scopedSlots:_vm._u([{key:\"head\",fn:function(){return [_c('tr',[_c('td',{staticClass:\"text-center\"},[_vm._v(\"Genre\")])])]},proxy:true},{key:\"data\",fn:function(){return [_vm._l((_vm.genres),function(genre,index){return _c('tr',{key:index},[_c('td',[_c('p',[_vm._v(_vm._s(genre.name))]),_c('font-awesome',{staticClass:\"trash-icon\",attrs:{\"icon\":['fas','trash-alt']},on:{\"click\":function($event){return _vm.deleteGenre(genre._id)}}})],1)])}),_c('tr',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputGenre),expression:\"inputGenre\"}],staticClass:\"addGenre\",attrs:{\"type\":\"text\",\"placeholder\":\"add genre\",\"name\":\"addGenre\",\"id\":\"addGenre\"},domProps:{\"value\":(_vm.inputGenre)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addGenre($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.inputGenre=$event.target.value}}})])]},proxy:true}])})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"list-book\">\n      <h1>Book List</h1>\n      <div class=\"line-dark\"></div> \n      <div class=\"filter-book\">\n          <MyInput\n            id=\"searchBook\"\n            align =\"left\"\n            bdrColor =\"blue\"\n            label = \"Search Book\"\n            size = \"lg\"\n            class=\"mt-5\"\n            @onInput=\"searchBook($event)\"\n        />\n        <MyOptions\n            id=\"genre-list\"\n            :data=\"genres\"\n            defOption=\"Select Genre\"\n            @optionsChange=\"findByGenre($event)\"\n        />\n        <MyOptions\n            id=\"author-list\"\n            :data=\"authors\"\n            defOption=\"Select Author\"\n            @optionsChange=\"findByAuthor($event)\"\n        />\n      </div>\n      <div  v-if=\"bookData.length == 0  \" class=\"empty-data\">\n          <h2>No result found</h2>\n      </div>\n      <div \n        class=\"alert-wrapper\"\n        @click=\"status=null\"\n        v-if=\"status\"\n      >\n        <MyAlert :status=\"status\" :msg=\"msg\" />\n      </div>\n      <div class=\"table-wrapper\">\n        <div class=\"book-table\">\n            <MyTable v-if=\"loaded && bookData.length > 0\" headerBg=\"success\" headerTxt=\"white\" >\n                <template v-slot:head>\n                    <tr>\n                        <td>Name</td>\n                        <td>Author</td>\n                        <td>User</td>\n                        <td>Genre</td>\n                        <td>Date</td>\n                        <td>Action</td>\n                    </tr>\n                </template>\n                <template v-slot:data>\n                    <tr v-for=\"(book,index) in bookData\" :key=\"index\" >\n                        <td>{{ book.name }}</td>\n                        <td>{{ book.author ? book.author.name : 'Unknown' }}</td>\n                        <td>{{ book.user_add }}</td>\n                        <td>{{ book.genre }}</td>\n                        <td>{{ setDate(book.date) }}</td>\n                        <td class=\"d-flex justify-content-between\">\n                            <button \n                                class=\"btn btn-primary\"\n                                @click=\"editBook(book._id)\"\n                            >\n                                <font-awesome :icon=\"['fas','edit']\"></font-awesome>\n                            </button>\n                            <button \n                                class=\"btn btn-danger\"\n                                @click=\"deleteBook(book._id)\"\n                            >\n                                <font-awesome :icon=\"['fas','trash-alt']\"></font-awesome>\n                            </button>\n                        </td>\n                    </tr>\n                </template>\n            </MyTable >\n            <BtnPaginate \n                @gotoPage=\"getDataPage($event)\"\n                :currentPage=\"currentPage\"\n                :nextPage=\"nextPage\"\n                :lastPage=\"bookData.length == 0\"\n            />\n         </div>\n        <div class=\"table-genre\">\n            <MyTable\n                headerBg=\"black\"\n                headerTxt=\"white\"\n            >\n                <template v-slot:head>\n                    <tr>\n                        <td class=\"text-center\">Genre</td>\n                    </tr>\n                </template>   \n                <template v-slot:data>\n                    <tr\n                        v-for=\"(genre,index) in genres\"\n                        :key=\"index\"\n                    >\n                        <td>\n                            <p>{{ genre.name }}</p>\n                            <font-awesome @click=\"deleteGenre(genre._id)\" class=\"trash-icon\" :icon=\"['fas','trash-alt']\"></font-awesome>\n                        </td>\n                    </tr>\n                    <tr>\n                         <input type=\"text\"  v-model=\"inputGenre\"  @keyup.enter=\"addGenre\" placeholder=\"add genre\" class=\"addGenre\" name=\"addGenre\" id=\"addGenre\">\n                    </tr>\n                </template>                       \n            </MyTable>\n        </div>\n      </div>\n\n  </div>\n</template>\n\n<script>\nimport {\n    getPageBooks, \n    setDate, \n    deletedBook, \n    getAllGenre,\n    getAllAuthor,\n    addGenre,\n    deleteGenre\n    } from \"@/utils/index\"\n\nexport default {\n    name  : 'listBook',\n    components :  {\n        MyTable : () => import('@/components/MyTable'),\n        MyInput : () => import(\"@/components/MyInputTxt\"),\n        MyAlert : () => import(\"@/components/MyAlert\"),\n        MyOptions : () => import(\"@/components/MyOptions\"),\n        BtnPaginate : () => import('@/components/MyNavigateBtn'),\n    },\n    data() {\n        return {\n            loaded : false,\n            bookData : [],\n            genres : [],\n            authors : [],\n            status : false,\n            msg : '',\n            inputGenre : '',\n            currentPage : parseInt(this.$route.query.page) || 1,\n            nextPage : true,\n            limit :  5,\n            search : {\n                result : true,\n                key : \"\",\n                genre : \"\",\n                author : \"\",\n            },\n        }\n    },\n    inject : ['loading'],\n    async mounted() {\n        try {\n            this.loading.value = true;\n            const { books } = await getPageBooks(this.limit,this.currentPage,this.search);\n            this.bookData = books;\n            this.genres = await getAllGenre();\n            this.authors = await getAllAuthor();\n            this.loaded = true;\n            setTimeout( () => this.loading.value = false,1000);\n            this.status = this.$route.params.status;\n            if(this.status == \"success\") {\n                this.msg = \"Update Book Success\"\n            } else {\n                this.msg = \"Error please refresh page\"\n            }\n        } catch(err) {\n            this.loading.value = false;\n            console.log(err);\n        }\n    },\n    methods : {\n        setDate : (date) => setDate(date),\n        editBook(bookId) {\n            console.log(`Masuk dengan id buku ${bookId}`);\n            this.$router.push({\n                name : \"admin-book-edit\",\n                params : { \n                    bookId, \n                    page : this.currentPage,\n                },\n                query: { \n                    key : this.search.key,\n                    author : this.search.author,\n                    genre : this.search.genre,\n                }      \n            });\n        },\n        async searchBook(value) {\n            try {\n                this.search.key = value;\n                this.filterBook();\n                if(this.$route.query.page == 1 ) return;\n                this.$router.push({\n                    name : 'admin-book',\n                    query : {\n                        page : 1\n                    }\n                });\n            } catch(err) {\n                console.log(err);\n                this.search.result = false;\n                this.search.key = \"\";\n            }\n        },\n\n        async filterBook() {\n            const { books } = await getPageBooks(this.limit,1,this.search);\n            this.bookData = books;\n        },\n\n        async findByGenre(genreId) {\n            try {\n                this.search.genre = genreId;\n                await this.filterBook();\n                // if(genreId === \"null\") return this.resetSearch();\n                // const { books } = await getPageBooks(this.limit,1,genreId);\n                // this.bookData = books;\n                // console.log(books);\n            } catch(err) {\n                console.log(err);\n            }\n        },\n\n        async findByAuthor(authorId) {\n            try {\n                this.search.author = authorId;\n                // const { books } = await getPageBooks(this.limit,1,authorId);\n                // this.bookData = books;\n                await this.filterBook();\n            } catch(err) {\n                console.log(err);\n            }\n        },\n\n        async deleteBook(bookId) {\n            try {\n                await deletedBook(bookId,this.currentPage,this.limit);\n                this.status = \"success\",\n                this.msg = 'Delete Book success';\n                this.bookData = await this.removeBook(bookId);\n            }catch(err) {\n                this.status = true;\n                this.msg = err;\n            }\n        },\n        async deleteGenre(genreId) {\n            console.log(genreId);\n            try {\n                const data = await deleteGenre(genreId);\n                console.log(data);\n            } catch(err) {\n                console.log(err)\n            }\n        },\n        async addGenre() {\n            const input = this.inputGenre\n            try {\n                const data = await addGenre(input);\n                this.inputGenre = \"\";\n                return data;\n            } catch(err) {\n                console.log(err);\n            }\n        },\n        async getDataPage(num) {\n            try {\n                this.currentPage = num;\n                const { books,pageInfo } = await getPageBooks(5,num,this.search);\n                if(books.length == 0 && !this.search.result  ) return this.resetSearch();\n                this.bookData = books;\n                this.nextPage = pageInfo.hasNextPage;\n                this.$router.push({\n                name : 'admin-book',\n                query  : {\n                        page : num,\n                    }\n                })\n            } catch(err) {\n                console.log(err)\n            }\n        },\n        async resetSearch() {\n            const { books,pageInfo } = await getPageBooks(5,1,\"\");\n            this.bookData = books;\n            this.pageInfo = pageInfo.hasNextPage,\n            this.currentPage = 1;\n            this.$router.push({\n                name : 'admin-book',\n                query : {\n                    page : 1,\n                }\n            })\n        },\n        async removeBook(bookId) {\n            const result =  this.bookData.filter(book => book._id !== bookId );\n            return result;\n        }\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/_variables.scss\";\n\n.list-book {\n    margin : 1rem;\n    padding : 1rem;\n\n    .line-dark {\n        width: 80%;\n        margin : auto;\n        height: 4px;\n        border : $color-border-gray;\n        margin-bottom: 2rem;\n    }\n\n\n    .empty-data {\n        padding : 2rem;\n        text-align : center;\n        margin : auto;\n        margin-bottom : 4rem;\n        width : 80%;\n        color : white;\n        background-color : #d83f3f;\n        border-radius : 1rem;\n    }\n\n    .filter-book {\n        display : flex;\n        margin-top : 5rem;\n        justify-content : space-between;\n\n        div {\n            margin-left: 2rem;\n        }\n    }\n\n}\n\n.table-wrapper {\n    width : 100%;\n    display: flex;\n    gap : 1.5rem;\n\n    .table-book {\n        flex : 7;\n    }\n\n    .table-genre {\n        flex : 3;\n        margin-left: auto;\n        min-width: 160px;\n        max-width: 300px;\n        .trash-icon {\n            font-size : 24px;\n            color : red;\n            cursor: pointer;\n        }\n\n        .addGenre {\n            display : inline-block;\n            width: 80%;\n            margin : 8px;\n            border : 1px solid black;\n            border-radius: 10px;\n            padding : 0rem .5rem;\n        }\n\n        .addGenre:focus {\n            outline:none;\n        }\n    }\n}\n\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminBook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminBook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminBook.vue?vue&type=template&id=c5270164&scoped=true&\"\nimport script from \"./AdminBook.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminBook.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminBook.vue?vue&type=style&index=0&id=c5270164&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c5270164\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}