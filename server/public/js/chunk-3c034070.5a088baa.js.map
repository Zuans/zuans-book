{"version":3,"sources":["webpack:///./src/routes/admin/AuthorForm.vue?fcc1","webpack:///./src/routes/admin/AuthorForm.vue?78a7","webpack:///src/routes/admin/AuthorForm.vue","webpack:///./src/routes/admin/AuthorForm.vue?e419","webpack:///./src/routes/admin/AuthorForm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","$event","preventDefault","sendForm","directives","name","rawName","value","form","expression","domProps","target","composing","$set","error","length","_l","err","index","key","_s","_e","$route","params","action","updateAuthor","addAuthor","staticRenderFns","console","log","component"],"mappings":"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","file":"js/chunk-3c034070.5a088baa.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthorForm.vue?vue&type=style&index=0&id=748af88b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthorForm.vue?vue&type=style&index=0&id=748af88b&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"author-add\"},[_c('h1',[_vm._v(\"Author Add\")]),_c('div',{staticClass:\"line-black\"}),_c('div',{staticClass:\"form-wrapper\"},[_c('form',{attrs:{\"action\":\"\",\"enctype\":\"multipart/form-data\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.sendForm($event)}}},[_c('div',{staticClass:\"form-name\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.name),expression:\"form.name\"}],attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"name\"},domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-age\"},[_c('label',{attrs:{\"for\":\"age\"}},[_vm._v(\"Age\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.age),expression:\"form.age\"}],attrs:{\"type\":\"number\",\"name\":\"age\",\"id\":\"age\"},domProps:{\"value\":(_vm.form.age)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"age\", $event.target.value)}}})]),(_vm.error.length > 0)?_c('div',{staticClass:\"error\"},[_c('ul',{staticClass:\"error-list\"},_vm._l((_vm.error),function(err,index){return _c('li',{key:index},[_vm._v(\" \"+_vm._s(err)+\" \")])}),0)]):_vm._e(),(_vm.$route.params.action=='update')?_c('span',{staticClass:\"btn-submit\",on:{\"click\":_vm.updateAuthor}},[_vm._v(\" Update Author \")]):_vm._e(),(_vm.$route.params.action=='add')?_c('span',{staticClass:\"btn-submit\",on:{\"click\":_vm.addAuthor}},[_vm._v(\" Add Autor \")]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"author-add\">\n      <h1>Author Add</h1>\n      <div class=\"line-black\"></div>\n      <div class=\"form-wrapper\">\n          <form action=\"\" @submit.prevent=\"sendForm\" enctype=\"multipart/form-data\">\n            <div class=\"form-name\">\n                <label for=\"name\">Name</label>\n                <input \n                    type=\"text\" \n                    name=\"name\" \n                    v-model=\"form.name\" \n                    id=\"name\"\n                >\n            </div>\n            <div class=\"form-age\">\n                <label for=\"age\">Age</label>\n                <input \n                    type=\"number\" \n                    name=\"age\" \n                    v-model=\"form.age\" \n                    id=\"age\"\n                >\n            </div>\n            <div v-if=\"error.length > 0\" class=\"error\">\n                <ul class=\"error-list\">\n                    <li \n                        v-for=\"(err,index) in error\"\n                        :key=\"index\"\n                    >\n                        {{ err }}\n                    </li>\n                </ul>\n            </div>\n            <span\n                v-if=\"$route.params.action=='update'\" \n                @click=\"updateAuthor\"\n                class=\"btn-submit\"\n            >\n                Update Author\n            </span>\n            <span\n                v-if=\"$route.params.action=='add'\" \n                @click=\"addAuthor\"\n                class=\"btn-submit\"\n            >\n                Add Autor\n            </span>\n          </form>\n      </div>\n  </div>\n</template>\n\n<script>\nimport { addAuthor, updateAuthor, getAuthor } from \"@/utils/index\"\n\n\nexport default {\n    name : \"adminAuthorForm\",\n    data() {\n        return {\n            form : {\n                name : '',\n                age : 0,\n            },\n            page : this.$route.params.page,\n            limit : this.$route.params.limit,\n            error : [],\n        }\n    },\n    created() {\n        if(this.$route.params.action == 'update') this.setForm(this.$route.params.authorId);\n    },\n    methods : {\n        async addAuthor() {\n            this.validateForm(this.form);\n            if(this.error.length > 0 ) return;\n            // Make upppercase to first letter\n            this.form.name = this.form.name.charAt(0).toUpperCase() + this.form.name.slice(1);\n            try {\n                const { error } = await addAuthor(this.form);\n                if(error) return this.error.push(error);\n                this.$router.go(-1);\n            } catch(err) {\n                console.log(err)\n            }\n        },\n        async updateAuthor() {\n            this.validateForm(this.form);\n            if(this.error.length > 0 ) return;\n            try {\n                const { error } = await updateAuthor({\n                    ...this.form,\n                    author_id : this.$route.params.authorId,\n                },this.limit,this.page);\n                if(error) return this.error.push(error);\n                this.$router.push({\n                    name : 'admin-author-status',\n                    query : {\n                        page : this.page\n                    },\n                    params : {\n                        status : 'success',\n                    },\n                })\n            } catch(err) {\n                this.error.push(err);\n            }\n        },\n        validateForm(dataForm) {\n            const age = parseInt(dataForm.age);\n            if( !dataForm.name || dataForm.name == \"\" ) {\n                this.error.push('Name is required');\n            } else if( dataForm.name.length >  12 ) {\n                this.error.push('Max name is 12 characther!')\n            } else if( !age || age == 0 ) {\n                this.error.push('Age is required');\n            } else if( age <= 0 || age > 90 ){\n                this.error.push('Please insert valid age');\n            } else {\n                this.error = [];\n            }\n            return true;\n        },\n        async setForm(authorId) {\n            const author = await getAuthor(authorId);\n            this.form = {\n                name : author.name,\n                age : author.age,\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n@import \"@/assets/scss/_variables\";\n\n.author-add {\n    margin : 2rem;\n    padding : 2rem;\n    background-color : #ffffff;\n    box-shadow : 1px 2px 10px #3b3b3b;\n    border-radius : .6rem;\n\n    form {\n        margin-top :2rem;\n\n        div {\n            display : flex;\n            width : 100%;\n            margin-bottom : 2rem;\n\n            label {\n                flex : 1;\n                font-family: $poppins;\n                font-size: 20px;\n                font-weight : bold;\n            }\n\n            input[type=\"text\"],\n            input[type=\"number\"] {\n                margin-left : 2rem;\n                flex : 9;\n                border-radius : 1rem;\n                padding : .5rem 1rem;\n                border : $color-border-gray;\n            }\n\n            input[type=\"text\"]:focus,\n            input[type=\"number\"]:focus{\n                outline : none;\n            }\n        }\n\n        .error-list {\n            list-style: none;\n            li {\n                font-size : 22px;\n                font-weight : 600;\n                color : #ce3232;\n                text-align : left;\n            }\n        }\n\n        .btn-submit {\n            padding : .7rem 1.5rem;\n            width : 10rem;\n            background-color : blue;\n            color : white;\n            display : block;\n            left : 0;\n            transform : scale(1);\n            transition : transform .5s ease;\n        }\n\n        .btn-submit:hover {\n            transform : scale(1.1);\n            cursor : pointer;\n        }\n    }\n}\n\n.line-black {\n    width: 70%;\n    height : 4px;\n    border : $color-border-gray;\n    margin : auto;\n    margin-top : 1rem;\n}\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthorForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthorForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AuthorForm.vue?vue&type=template&id=748af88b&scoped=true&\"\nimport script from \"./AuthorForm.vue?vue&type=script&lang=js&\"\nexport * from \"./AuthorForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AuthorForm.vue?vue&type=style&index=0&id=748af88b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"748af88b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}