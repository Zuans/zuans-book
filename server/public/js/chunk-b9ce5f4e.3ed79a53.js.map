{"version":3,"sources":["webpack:///./src/components/feature/BookDetail.vue?ecca","webpack:///./src/assets/img/card-1.jpg","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/feature/BookDetail.vue?1b2d","webpack:///src/components/feature/BookDetail.vue","webpack:///./src/components/feature/BookDetail.vue?013f","webpack:///./src/components/feature/BookDetail.vue"],"names":["module","exports","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","bookImg","_v","_s","titleBook","class","pink","isLiked","on","$event","toggle","book","_id","author","name","genre","setDate","user_add","description","staticRenderFns","data","month","imgDefault","likedBook","methods","watch","likeBooks","i","id","computed","filename","toUpperCase","component"],"mappings":"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","file":"js/chunk-b9ce5f4e.3ed79a53.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookDetail.vue?vue&type=style&index=0&id=7fa1499a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookDetail.vue?vue&type=style&index=0&id=7fa1499a&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/card-1.e7842bf2.jpg\";","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-detail\"},[_c('img',{staticClass:\"img-overlay\",attrs:{\"src\":_vm.bookImg,\"alt\":\"\"}}),_c('div',{staticClass:\"book-detail-body\"},[_c('h3',[_vm._v(_vm._s(_vm.titleBook))]),_c('hr'),_c('div',{staticClass:\"book-content\"},[_c('font-awesome',{staticClass:\"icon\",class:{ pink : _vm.isLiked },attrs:{\"icon\":\"heart\"},on:{\"click\":function($event){return _vm.toggle('isLiked',_vm.book._id)}}}),_c('p',[_vm._v(\"Author : \"+_vm._s(_vm.book.author.name ? (\" \" + (_vm.book.author.name)) : null))]),_c('p',[_vm._v(\"Genre : \"+_vm._s(_vm.book.genre ? (\" \" + (_vm.book.genre)) : null))]),_c('p',[_vm._v(\"Release Date : \"+_vm._s(_vm.setDate))]),_c('p',[_vm._v(\"Added By: \"+_vm._s(_vm.book.user_add ? _vm.book.user_add : \"Anonymous\"))]),_c('p',[_vm._v(\"Description :\"+_vm._s(_vm.book.description ? (\" \" + (_vm.book.description)) : \" This book doens't have description \"))])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"book-detail\">\r\n    <img class=\"img-overlay\" :src=\"bookImg\" alt />\r\n    <div class=\"book-detail-body\">\r\n      <h3>{{ titleBook }}</h3>\r\n      <hr />\r\n      <div class=\"book-content\">\r\n        <font-awesome\r\n          icon=\"heart\"\r\n          @click=\"toggle('isLiked',book._id)\"\r\n          class=\"icon\"\r\n          :class=\"{ pink : isLiked }\"\r\n        ></font-awesome>\r\n        <p>Author : {{ book.author.name ? ` ${book.author.name}` : null }}</p>\r\n        <p>Genre : {{ book.genre ? ` ${book.genre}` : null }}</p>\r\n        <p>Release Date : {{ setDate }}</p>\r\n        <p>Added By: {{ book.user_add ? book.user_add : \"Anonymous\" }}</p>\r\n        <p>Description :{{ book.description ? ` ${book.description}` : \" This book doens't have description \"}}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { QUERY_BOOK } from \"@/graphql/query\";\r\nimport { LIKED_BOOK, UNLIKED_BOOK } from \"@/graphql/mutations\";\r\nimport { mapState, mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"bookDetail\",\r\n  data() {\r\n    return {\r\n      book: \"\",\r\n      month: [\r\n        \"January\",\r\n        \"February\",\r\n        \"March\",\r\n        \"April\",\r\n        \"May\",\r\n        \"June\",\r\n        \"July\",\r\n        \"August\",\r\n        \"September\",\r\n        \"October\",\r\n        \"November\",\r\n        \"Desember\",\r\n      ],\r\n      imgDefault: require(\"@/assets/img/card-1.jpg\"),\r\n      isLiked: false,\r\n      likedBook: [],\r\n    };\r\n  },\r\n  async created() {\r\n    const id = this.$route.params.bookId;\r\n    try {\r\n      const {\r\n        data: { book },\r\n      } = await this.$apollo.query({\r\n        query: QUERY_BOOK,\r\n        variables: {\r\n          id: id,\r\n        },\r\n      });\r\n      this.book = book;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n  async mounted() {\r\n    // check if user already like this book\r\n    const {\r\n      likedBook: { _id: bookId },\r\n    } = this.user;\r\n    this.likedBook = bookId;\r\n  },\r\n  methods: {\r\n    async toggle(value, bookId) {\r\n      // Toogle the isLiked value\r\n      this[value] = !this[value];\r\n      try {\r\n        // If user hit love icon and isliked is true !\r\n        if (this.isLiked) {\r\n          const data = await this.$apollo.mutate({\r\n            mutation: LIKED_BOOK,\r\n            variables: {\r\n              bookId,\r\n            },\r\n          });\r\n          return data;\r\n        } else {\r\n          // If user hit love icon and isLIked is false\r\n          const data = await this.$apollo.mutate({\r\n            mutation: UNLIKED_BOOK,\r\n            variables: {\r\n              bookId,\r\n            },\r\n          });\r\n          this.$router.go(-1);\r\n          return data;\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    \"book._id\"(id) {\r\n      const likeBooks = this.getLikedBook;\r\n      // Looping for search the equal id\r\n      for (let i = 0; i < likeBooks.length; i++) {\r\n        if (likeBooks[i]._id == id) return (this.isLiked = true);\r\n      }\r\n      this.isLiked = false;\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"user\"]),\r\n    ...mapGetters([\"getLikedBook\"]),\r\n    bookImg() {\r\n      if (this.book) {\r\n        const { filename } = this.book.photo;\r\n        return filename\r\n          ? `/img-card/${filename}`\r\n          : this.imgDefault;\r\n      }\r\n      return null;\r\n    },\r\n    titleBook() {\r\n      if (this.book) {\r\n        return this.book.name.toUpperCase();\r\n      }\r\n      return null;\r\n    },\r\n    setDate() {\r\n      if (this.book) {\r\n        const d = new Date(this.book.date);\r\n        const date = d.getDate();\r\n        const indexMonth = d.getMonth();\r\n        const fullYear = d.getFullYear();\r\n        return `${date}-${this.month[indexMonth]}-${fullYear}`;\r\n      }\r\n      return null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~@/assets/scss/_variables.scss\";\r\n@import \"~@/assets/scss/_mixins.scss\";\r\n\r\n.img-overlay {\r\n  width: 100%;\r\n  max-height: 550px;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n.book-detail-body {\r\n  padding: 5rem 3rem;\r\n  position: relative;\r\n  height: 50vh;\r\n  min-height: 600px;\r\n  background-color: #127265;\r\n  color: white;\r\n\r\n  hr {\r\n    border: $color-border-white;\r\n    margin-top: 2rem;\r\n  }\r\n  .book-content {\r\n    height: 100%;\r\n    width: 100%;\r\n    text-align: left;\r\n    padding: 3rem 2rem;\r\n    @include respond(small) {\r\n      padding: 1rem;\r\n    }\r\n    p {\r\n      font-size: 1.5rem;\r\n      @include respond(small) {\r\n        font-size: 1.2rem;\r\n      }\r\n    }\r\n\r\n    .icon {\r\n      font-size: 3.8rem;\r\n      cursor: pointer;\r\n      float: right;\r\n      @include respond(small) {\r\n        font-size: 3rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.pink {\r\n  color: rgb(189, 27, 81);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookDetail.vue?vue&type=template&id=7fa1499a&scoped=true&\"\nimport script from \"./BookDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./BookDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookDetail.vue?vue&type=style&index=0&id=7fa1499a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fa1499a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}