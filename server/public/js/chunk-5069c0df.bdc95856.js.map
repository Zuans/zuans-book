{"version":3,"sources":["webpack:///./src/routes/admin/AdminAuthor.vue?b309","webpack:///src/routes/admin/AdminAuthor.vue","webpack:///./src/routes/admin/AdminAuthor.vue?77b1","webpack:///./src/routes/admin/AdminAuthor.vue","webpack:///./src/routes/admin/AdminAuthor.vue?7180"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","$route","params","status","show","on","toggleShow","_e","attrs","keySearch","$event","searchAuthor","authorList","length","scopedSlots","_u","key","fn","proxy","_l","author","index","_s","name","age","editAuthor","_id","deleteAuthor","currentPage","nextPage","gotoPage","$router","push","action","authorId","staticRenderFns","page","limit","console","log","authors","component"],"mappings":"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","file":"js/chunk-5069c0df.bdc95856.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-author\"},[_c('h1',[_vm._v(\"Author List\")]),(_vm.$route.params.status == 'success' && _vm.show)?_c('div',{staticClass:\"success-alert\",on:{\"click\":_vm.toggleShow}},[_c('h1',{staticClass:\"text-success mt-3\"},[_vm._v(\"Update Author Success\")])]):_vm._e(),_c('div',{staticClass:\"author-list-wrapper\"},[_c('MyInput',{attrs:{\"label\":\"Author name\",\"id\":\"search\",\"bdrColor\":\"blue\",\"size\":\"lg\",\"value\":_vm.keySearch},on:{\"onInput\":function($event){return _vm.searchAuthor($event)}}}),(_vm.authorList.length == 0)?_c('div',{staticClass:\"empty-data\"},[_c('h1',{staticClass:\"mt-3 text-danger\"},[_vm._v(\"No Author Found\")])]):_vm._e(),(_vm.authorList.length !== 0)?_c('MyTable',{attrs:{\"headerBg\":\"black\",\"headerTxt\":\"white\"},scopedSlots:_vm._u([{key:\"head\",fn:function(){return [_c('tr',[_c('td',[_vm._v(\"Name\")]),_c('td',[_vm._v(\"Age\")]),_c('td',[_vm._v(\"Action\")])])]},proxy:true},{key:\"data\",fn:function(){return _vm._l((_vm.authorList),function(author,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(author.name))]),_c('td',[_vm._v(_vm._s(author.age))]),_c('td',{staticClass:\"d-flex justify-content-between\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.editAuthor(author._id)}}},[_c('font-awesome',{attrs:{\"icon\":['fas','edit']}})],1),_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.deleteAuthor(author._id)}}},[_c('font-awesome',{attrs:{\"icon\":['fas','trash-alt']}})],1)])])})},proxy:true}],null,false,3571940039)}):_vm._e(),_c('MyNavigateBtn',{attrs:{\"currentPage\":_vm.currentPage,\"nextPage\":_vm.nextPage,\"lastPage\":_vm.authorList.length == 0},on:{\"gotoPage\":function($event){return _vm.gotoPage($event)}}}),_c('button',{staticClass:\"btn-add\",on:{\"click\":function($event){return _vm.$router.push({ \n              name : 'admin-author-form', \n              params : { \n                  action : 'add',\n                  authorId : 'null'\n              } \n          })}}},[_vm._v(\" Add New Author \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"admin-author\">\n      <h1>Author List</h1>\n      <div @click=\"toggleShow\" class=\"success-alert\" v-if=\"$route.params.status == 'success' && show\">\n          <h1 class=\"text-success mt-3\">Update Author Success</h1>\n      </div>\n      <div class=\"author-list-wrapper\">\n          <MyInput \n            label=\"Author name\"\n            id=\"search\"\n            bdrColor = \"blue\"\n            size=\"lg\"\n            @onInput=\"searchAuthor($event)\"\n            :value=\"keySearch\"\n          />\n                <div v-if=\"authorList.length == 0\" class=\"empty-data\">\n                    <h1 class=\"mt-3 text-danger\">No Author Found</h1>\n                </div>\n          <MyTable\n            headerBg=\"black\" \n            headerTxt=\"white\"\n            v-if=\"authorList.length !== 0\"\n          >\n              <template v-slot:head>\n                  <tr>\n                      <td>Name</td>\n                      <td>Age</td>\n                      <td>Action</td>\n                  </tr>\n              </template>\n              <template v-slot:data>\n                  <tr \n                    v-for=\"(author,index) in authorList \" \n                    :key=\"index\">\n                      <td>{{ author.name }}</td>\n                      <td>{{ author.age }}</td>\n                      <td class=\"d-flex justify-content-between\">\n                        <button \n                            class=\"btn btn-primary\"\n                            @click=\"editAuthor(author._id)\"\n                        >\n                            <font-awesome :icon=\"['fas','edit']\"></font-awesome>\n                        </button>\n                        <button \n                            class=\"btn btn-danger\"\n                            @click=\"deleteAuthor(author._id)\"\n                        >\n                            <font-awesome :icon=\"['fas','trash-alt']\"></font-awesome>\n                        </button>\n                      </td>\n                  </tr>\n              </template>\n          </MyTable>\n          <MyNavigateBtn\n                :currentPage=\"currentPage\"\n                :nextPage=\"nextPage\"\n                :lastPage=\"authorList.length == 0\"\n                @gotoPage=\"gotoPage($event)\"\n          />\n          <button \n            class=\"btn-add\"\n            @click=\"$router.push({ \n                name : 'admin-author-form', \n                params : { \n                    action : 'add',\n                    authorId : 'null'\n                } \n            })\"\n          >\n            Add New Author\n          </button>\n      </div>\n  </div>\n</template>\n\n<script>\nimport { deleteAuthor, getAuthorPage } from \"@/utils/index\";\n\nexport default {\n    name : \"adminAuthorList\",\n    components : {\n        MyTable : () => import('@/components/MyTable'),\n        MyNavigateBtn : () => import('@/components/MyNavigateBtn'),\n        MyInput : () => import(\"@/components/MyInputTxt\"),\n    },\n    data() {\n        return {\n            authorList : [],\n            currentPage : parseInt(this.$route.query.page) || 1,\n            limit  : 4,\n            nextPage : true,\n            show : true,\n            keySearch : \"\",\n            resultSearch : true,\n        }\n    },\n    async created() {\n        try {\n            const { authors } = await getAuthorPage(this.limit,this.currentPage);\n            this.authorList = authors;\n        } catch(err) {\n            console.log(err);\n        }\n    },\n    methods : {\n        async editAuthor(authorId) {\n            this.$router.push({\n                name : 'admin-author-form',\n                params : {\n                    action : 'update',\n                    authorId,\n                    page : this.currentPage,\n                    limit : this.limit,\n                },\n            });\n            const { authors } = await getAuthorPage(this.limit,this.currentPage);\n            this.authorList = authors;\n        },\n        async deleteAuthor(authorId) {\n            try {\n                await deleteAuthor(authorId,this.limit,this.currentPage);\n                const { authors } = await getAuthorPage(this.limit,this.currentPage);\n                this.s\n                this.authorList = authors;\n            } catch(err) {\n                console.log(err);\n            }\n        },\n        async searchAuthor(value) {\n            try {\n                this.keySearch = value\n                const data = await getAuthorPage(\n                    this.limit,\n                    this.currentPage,\n                    value,\n                );\n                if(data.authors.length == 0) this.resultSearch = false;\n                this.resultSearch = true;\n                this.authorList = data.authors;\n            } catch(err) {\n                this.resultSearch = false;\n                console.log(err);\n                this.authorList = [];\n            }\n        },\n        async gotoPage(pageNum) {\n            try {\n                const { authors,pageInfo } = await getAuthorPage(this.limit,pageNum,this.keySearch);\n                console.log(authors);\n                this.authorList = authors;\n                this.nextPage = pageInfo.hasNextPage;\n                // If result search undefined;\n                if(authors.length == 0 ) this.resetSearch();\n                if(this.currentPage == pageNum ) return;\n                this.currentPage = pageNum;\n                this.$router.push({\n                name : 'admin-author',\n                query : {\n                    page : pageNum\n                }\n            })\n            }catch(err){\n                console.log(err);\n            }\n        },\n        async resetSearch() {\n            try {\n                const { authors,pageInfo } = await getAuthorPage(4,1,\"\");\n                this.authorList = authors;\n                this.nextPage = pageInfo.hasNextPage;\n                this.keySearch = \"\";\n                this.currentPage = 1;\n                this.$router.push({\n                    name : 'admin-author',\n                    query : {\n                        page : 1\n                    }\n                })\n            } catch(err) {\n                console.log(err);\n            }\n        },\n        toggleShow() {\n            this.show = !this.show;\n        }\n    }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n@import \"@/assets/scss/_variables\";\n\n.admin-author {\n    margin : 1rem;\n    padding : 1rem;\n    background-color : #ffffff;\n    width : 100%;\n    min-height: 100%;\n\n\n    .author-list-wrapper {\n        position: relative;\n        margin : 2rem auto;\n        width: 70%;\n\n        .btn-add {\n            position: relative;\n            display: block;\n            background-color : blue;\n            padding : .7rem 1.5rem;\n            font-family : $poppins;\n            margin-top : 2rem;\n            color : white;\n            border-radius : .6rem;\n            cursor : pointer;\n            transition: all .4s ease-in-out;\n            transform : scale(1);\n            border:none;\n            left :0;\n\n        }\n\n        .btn-add:hover {\n            background-color: #0080b3;\n            padding : 1rem 2rem;\n        }\n\n        .text-search {\n            margin-bottom : 1rem;\n            border : none;\n            border-bottom : 2px solid black;\n            font-family : $poppins;\n            padding : 0rem .8rem;\n            text-align : center;\n        }\n\n        .text-search:focus {\n            outline : none;\n        }\n\n        .text-search::before {\n            content: \"\";\n            position : absolute;\n            left : 20;\n            top : 20;\n            height : 20px;\n            width : 20px;\n            z-index : 99;\n            background-color : red;\n        }\n    }\n\n    .success-alert {\n        cursor : pointer;\n    }\n}\n\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAuthor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAuthor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminAuthor.vue?vue&type=template&id=0215ba32&scoped=true&\"\nimport script from \"./AdminAuthor.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminAuthor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminAuthor.vue?vue&type=style&index=0&id=0215ba32&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0215ba32\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAuthor.vue?vue&type=style&index=0&id=0215ba32&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminAuthor.vue?vue&type=style&index=0&id=0215ba32&lang=scss&scoped=true&\""],"sourceRoot":""}