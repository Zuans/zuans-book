(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3aef75b4"],{"00fb":function(e,r,t){"use strict";var a=t("f572"),n=t.n(a);n.a},f2f8:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"admin-account"},[t("h1",[e._v("Admin Account")]),t("div",{staticClass:"admin-account-info"},[t("div",{staticClass:"info-admin",class:{"show-text":e.isShow.adminText}},[t("img",{attrs:{src:e.setImage,alt:""}}),t("h3",{staticClass:"admin-name"},[e._v(e._s(e.userInfo.username))]),t("h3",{staticClass:"admin-email"},[e._v(e._s(e.userInfo.email))]),t("div",{staticClass:"input-wrapper"},[t("MyInput",{ref:"inputPass",staticClass:"input-password",attrs:{label:"Your Current Password",size:"md",type:"password",id:"currentPassword",bdrColor:"white"},on:{onInput:function(r){return e.checkAdmin(r)}}})],1),e.verifyError?t("div",{staticClass:"error-server"},[e._v(" "+e._s(e.verifyError)+" ")]):e._e()]),t("div",{staticClass:"edit-admin",class:{"show-form":e.isShow.adminForm}},[t("form",[t("div",{staticClass:"form-username"},[t("label",{attrs:{for:"name"}},[e._v("Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.dataForm.name,expression:"dataForm.name"}],attrs:{type:"text",name:"name",id:"name",autocomplete:"off"},domProps:{value:e.dataForm.name},on:{input:function(r){r.target.composing||e.$set(e.dataForm,"name",r.target.value)}}}),e.error.username.length>0?t("div",{staticClass:"error-list"},e._l(e.error.username,(function(r,a){return t("p",{key:a},[e._v(" "+e._s(r)+" ")])})),0):e._e()]),t("div",[t("label",{attrs:{for:"email"}},[e._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.dataForm.email,expression:"dataForm.email"}],attrs:{type:"text",name:"email",id:"email",autocomplete:"off"},domProps:{value:e.dataForm.email},on:{input:function(r){r.target.composing||e.$set(e.dataForm,"email",r.target.value)}}}),e.error.email.length>0?t("div",{staticClass:"error-list"},e._l(e.error.email,(function(r,a){return t("p",{key:a},[e._v(" "+e._s(r)+" ")])})),0):e._e()]),t("div",[t("label",{attrs:{for:"password"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.dataForm.pwd,expression:"dataForm.pwd"}],attrs:{type:"password",name:"password",id:"password",autocomplete:"off"},domProps:{value:e.dataForm.pwd},on:{input:function(r){r.target.composing||e.$set(e.dataForm,"pwd",r.target.value)}}}),e.error.password.length>0?t("div",{staticClass:"error-list"},e._l(e.error.password,(function(r,a){return t("p",{key:a},[e._v(" "+e._s(r)+" ")])})),0):e._e()]),t("div",[t("label",{attrs:{for:"confirm-password"}},[e._v("Confirm Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.dataForm.confirmPwd,expression:"dataForm.confirmPwd"}],attrs:{type:"password",name:"confirm-password",id:"confirm-password",autocomplete:"off"},domProps:{value:e.dataForm.confirmPwd},on:{input:function(r){r.target.composing||e.$set(e.dataForm,"confirmPwd",r.target.value)}}}),e.error.confirmPwd.length>0?t("div",{staticClass:"error-list"},e._l(e.error.confirmPwd,(function(r,a){return t("p",{key:a},[e._v(" "+e._s(r)+" ")])})),0):e._e()]),t("div",[t("label",{attrs:{for:"file-img"}},[e._v("Photo Profile")]),t("input",{ref:"fileInput",attrs:{type:"file",name:"file-img",id:"file-img",autocomplete:"off"},on:{change:e.handleInput}}),t("img",{attrs:{src:e.setImage,id:"img-review",alt:""}}),e.showDel?t("a",{staticClass:"btn btn-danger",on:{click:e.deleteImg}},[e._v("Delete ")]):e._e(),e.error.avatar.length>0?t("div",{staticClass:"error-list"},e._l(e.error.avatar,(function(r,a){return t("p",{key:a},[e._v(" "+e._s(r)+" ")])})),0):e._e()]),e.errorServer?t("div",{staticClass:"error-server"},[t("p",[e._v(e._s(e.errorServer))])]):e._e(),t("a",{staticClass:"submit-form",attrs:{role:"button"},on:{click:e.submitForm}},[e._v(" Edit ")])])])])])},n=[],s=(t("b0c0"),t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),t("96cf"),t("1da1")),o=t("5530"),i=t("94ea"),m=t("ed08"),d={name:"adminAccount",components:{MyInput:function(){return t.e("chunk-9ca0ed12").then(t.bind(null,"b480"))}},computed:Object(o["a"])(Object(o["a"])({},Object(i["e"])({userInfo:"user"})),{},{setImage:function(){return!(!this.userInfo.avatar||!this.userInfo.avatar.filename)&&"/img-avatar/".concat(this.userInfo.avatar.filename)}}),data:function(){return{isShow:{adminText:!1,adminForm:!1},dataForm:{name:"",email:"",pwd:"",confirmPwd:"",avatar:""},error:{username:[],email:[],password:[],confirmPwd:[],avatar:[]},errorServer:"",verifyError:null,imgDefault:!1,showDel:null,inputValue:""}},created:function(){var e=this;setTimeout((function(){e.isShow.adminText=!0}),700),this.userInfo.avatar.filename&&(this.showDel=!0),this.setForm(this.userInfo)},methods:{handleInput:function(){var e=this.$refs.fileInput.files[0],r=document.getElementById("img-review");r.src=URL.createObjectURL(e),this.dataForm.avatar=e,r.onload=function(){URL.revokeObjectURL(r.src)},this.showDel=!0},setForm:function(e){this.dataForm={name:e.username,email:e.email}},deleteImg:function(){var e=document.getElementById("img-review");e.src="",this.dataForm.avatar=null,this.showDel=!1},submitForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var t,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t=e.validateForm(e.dataForm),!t){r.next=3;break}return r.abrupt("return",!1);case 3:return r.prev=3,r.next=6,Object(m["s"])(Object(o["a"])(Object(o["a"])({},e.dataForm),{},{imgDefault:e.imgDefault}));case 6:if(a=r.sent,!a.error){r.next=9;break}return r.abrupt("return",e.errorServer=a.message);case 9:return e.isShow.adminForm=!1,r.abrupt("return",a);case 13:r.prev=13,r.t0=r["catch"](3),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[3,13]])})))()},validateForm:function(e){var r=e.name,t=e.email,a=this.error,n=document.getElementById("img-review");return r.length>0?a.username=[]:a.username.push("name is required"),t.length>0?a.email=[]:a.email.push("email is required"),encodeURI(this.setImage)==n.src&&(this.imgDefault=!0),a.username.length>0||a.email.length>0||a.password.length>0||a.confirmPwd.length>0||a.avatar.length>0},checkAdmin:function(e){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r.verifyError="",t.next=4,Object(m["w"])(e);case 4:if(a=t.sent,n=a.error,!n){t.next=8;break}return t.abrupt("return",r.verifyError="Password not match");case 8:r.isShow.adminForm=!0,r.$refs.inputPass.clearInput(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},clearForm:function(){return this.dataForm={name:"",email:"",pwd:"",confirmPwd:"",avatar:""}}},watch:{"dataForm.confirmPwd":function(e){return e!=this.dataForm.pwd?this.error.confirmPwd[0]="Password doesn't match":this.error.confirmPwd=[]},"dataForm.pwd":function(e){e.length<=6?this.error.password[0]="Password must be more 6 letters":this.error.password=[],e!==this.dataForm.confirmPwd?this.error.confirmPwd[0]="Password doesn't match":this.error.confirmPwd=[]}}},c=d,l=(t("00fb"),t("2877")),u=Object(l["a"])(c,a,n,!1,null,"7bb58e78",null);r["default"]=u.exports},f572:function(e,r,t){}}]);
//# sourceMappingURL=chunk-3aef75b4.d38ae4d3.js.map