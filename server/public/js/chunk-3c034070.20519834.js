(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c034070"],{"5e1d":function(e,r,t){},"70ce":function(e,r,t){"use strict";var a=t("5e1d"),n=t.n(a);n.a},d27c:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"author-add"},[t("h1",[e._v("Author Add")]),t("div",{staticClass:"line-black"}),t("div",{staticClass:"form-wrapper"},[t("form",{attrs:{action:"",enctype:"multipart/form-data"},on:{submit:function(r){return r.preventDefault(),e.sendForm(r)}}},[t("div",{staticClass:"form-name"},[t("label",{attrs:{for:"name"}},[e._v("Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],attrs:{type:"text",name:"name",id:"name"},domProps:{value:e.form.name},on:{input:function(r){r.target.composing||e.$set(e.form,"name",r.target.value)}}})]),t("div",{staticClass:"form-age"},[t("label",{attrs:{for:"age"}},[e._v("Age")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.age,expression:"form.age"}],attrs:{type:"number",name:"age",id:"age"},domProps:{value:e.form.age},on:{input:function(r){r.target.composing||e.$set(e.form,"age",r.target.value)}}})]),e.error.length>0?t("div",{staticClass:"error"},[t("ul",{staticClass:"error-list"},e._l(e.error,(function(r,a){return t("li",{key:a},[e._v(" "+e._s(r)+" ")])})),0)]):e._e(),"update"==e.$route.params.action?t("span",{staticClass:"btn-submit",on:{click:e.updateAuthor}},[e._v(" Update Author ")]):e._e(),"add"==e.$route.params.action?t("span",{staticClass:"btn-submit",on:{click:e.addAuthor}},[e._v(" Add Autor ")]):e._e()])])])},n=[],s=(t("fb6a"),t("b0c0"),t("5530")),o=(t("96cf"),t("1da1")),u=t("ed08"),i={name:"adminAuthorForm",data:function(){return{form:{name:"",age:0},page:this.$route.params.page,limit:this.$route.params.limit,error:[]}},created:function(){"update"==this.$route.params.action&&this.setForm(this.$route.params.authorId)},methods:{addAuthor:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var t,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.validateForm(e.form),!(e.error.length>0)){r.next=3;break}return r.abrupt("return");case 3:return e.form.name=e.form.name.charAt(0).toUpperCase()+e.form.name.slice(1),r.prev=4,r.next=7,Object(u["a"])(e.form);case 7:if(t=r.sent,a=t.error,!a){r.next=11;break}return r.abrupt("return",e.error.push(a));case 11:e.$router.go(-1),r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](4),console.log(r.t0);case 17:case"end":return r.stop()}}),r,null,[[4,14]])})))()},updateAuthor:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var t,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.validateForm(e.form),!(e.error.length>0)){r.next=3;break}return r.abrupt("return");case 3:return r.prev=3,r.next=6,Object(u["t"])(Object(s["a"])(Object(s["a"])({},e.form),{},{author_id:e.$route.params.authorId}),e.limit,e.page);case 6:if(t=r.sent,a=t.error,!a){r.next=10;break}return r.abrupt("return",e.error.push(a));case 10:e.$router.push({name:"admin-author-status",query:{page:e.page},params:{status:"success"}}),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](3),e.error.push(r.t0);case 16:case"end":return r.stop()}}),r,null,[[3,13]])})))()},validateForm:function(e){var r=parseInt(e.age);return e.name&&""!=e.name?e.name.length>12?this.error.push("Max name is 12 characther!"):r&&0!=r?r<=0||r>90?this.error.push("Please insert valid age"):this.error=[]:this.error.push("Age is required"):this.error.push("Name is required"),!0},setForm:function(e){var r=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["n"])(e);case 2:a=t.sent,r.form={name:a.name,age:a.age};case 4:case"end":return t.stop()}}),t)})))()}}},c=i,m=(t("70ce"),t("2877")),p=Object(m["a"])(c,a,n,!1,null,"748af88b",null);r["default"]=p.exports}}]);
//# sourceMappingURL=chunk-3c034070.20519834.js.map